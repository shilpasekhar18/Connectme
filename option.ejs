<!-- list.ejs -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Choose Service</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <button id="logout">Logout</button>
  <div class="video">
    <video class="back-video" autoplay loop muted>
      <source
        src="Gen-2 833571920, make the vehicle mov, My first design 1pn, brush_A 44(1) (online-video-cutter.com)(1)(1).mp4"
        type="video/mp4" />
    </video>
  </div>
  <div class="container">
    <div class="con">
      <button class="button" id="mybutton">My Profile</button>
      <button class="button" id="myservices">My Services</button>
    </div>
    <div class="service-options">
      <% data.forEach(item=>{%>
        <div class="service-option-left" onclick="handleClick('<%= item.id  %>')">
          <button class="button" id=<%=item.id %> onclick="handleClick"><%= item.stype %></button>
        </div>
        <% }) %>

    </div>
    <div id="selected-service"></div>
  </div>
  <style>
    #logout {
        position: absolute;
        right: 20px;
        top: 5px;
        color: black;
        background: white;
        border-radius: 10px;
        padding: 5px;
      }

    .con {
      padding: 50px 10px;
    }

    .button {
      width: 300px;
      height: 80px;
      border-radius: 20px 0px 20px 0;
      font-size: x-large;
      font-family: Georgia, "Times New Roman", Times, serif;
      background-color: #eee4e4;
      /* Removed button color */
      border: 2px solid #eee4e4;
      /* Added border */
    }

    .button:hover {
      background-color: black;
      color: wheat;
      /* Change text color on hover */
    }

    .container {
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .service-options {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
    }

    .service-option-left,
    .service-option-right {
      flex: 1;
    }

    .service-option {
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0px 0px 10px rgb(209, 205, 205);
      cursor: pointer;
      transition: transform 0.2s;
    }

    .service-option:hover {
      transform: translateY(-5px);
    }

    h1 {
      margin-bottom: 20px;
      color: #eee4e4;
    }

    #selected-service {
      margin-top: 20px;
      font-weight: bold;
      color: #eee4e4;
    }

    .back-video {
      position: absolute;
      right: 0;
      left: 0;
      z-index: -1;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
  <script>
    function handleClick(id) {
      var formData = new FormData()
      formData.append('id', id);
      fetch('/option', {
        method: 'POST',
        body: formData
      }).then(response =>{
        if (response.ok) {
          // Redirect to another page
          window.location.href = '/outdoor'; // Change '/success-page' to the desired URL
        } else {
          throw new Error('Network response was not ok');
        }
      }).catch(error => {
          console.error('Error:', error);
          // Handle errors if any
        });
    }
    document
      .getElementById("mybutton")
      .addEventListener("click", function () {
        // Replace 'destination.html' with the URL of the page you want to redirect to
        window.location.href = "/profile";
      });

    document.getElementById("myservices").addEventListener("click",function(){
      window.location.href = "/myServices";
    })


    document.getElementById("logout").addEventListener("click",()=>{
      fetch('/clearSession').then((res)=>{
        if(res.ok){
          window.location.href="/";
        }
      })
    });
  </script>
</body>

</html>